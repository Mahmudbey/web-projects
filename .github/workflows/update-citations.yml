run: |
          python -c "
          import requests, yaml, os
          stats = {'scopus': {'h_index': 0, 'citations': 0, 'documents': 0}, 'orcid': {'works_count': 0, 'id': ''}}
          
          # Scopus qismi
          try:
              sc_id = os.environ['SCOPUS_ID']
              key = os.environ['SCOPUS_API_KEY']
              print(f'Attempting Scopus ID: {sc_id}')
              r = requests.get(f'https://api.elsevier.com/content/author/author_id/{sc_id}', 
                               headers={'X-ELS-APIKey': key, 'Accept': 'application/json'}, timeout=20)
              
              print(f'Scopus Response Status: {r.status_code}')
              
              if r.status_code == 200:
                  d = r.json()['author-retrieval-response'][0]['coredata']
                  stats['scopus'] = {
                      'h_index': int(d.get('h-index', 0)), 
                      'citations': int(d.get('citation-count', 0)), 
                      'documents': int(d.get('document-count', 0))
                  }
                  print('✅ Scopus data successfully fetched')
              else:
                  print(f'❌ Scopus API Error: {r.text}')
          except Exception as e:
              print(f'❌ Scopus critical error: {e}')

          # ORCID qismi
          try:
              orcid = os.environ['ORCID_ID']
              r = requests.get(f'https://pub.orcid.org/v3.0/{orcid}/works', 
                               headers={'Accept': 'application/json'}, timeout=20)
              if r.status_code == 200:
                  stats['orcid'] = {'works_count': len(r.json().get('group', [])), 'id': orcid}
                  print('✅ ORCID success')
          except Exception as e:
              print(f'❌ ORCID error: {e}')

          os.makedirs('_data', exist_ok=True)
          with open('_data/stats.yml', 'w') as f:
              yaml.dump(stats, f)
          "
